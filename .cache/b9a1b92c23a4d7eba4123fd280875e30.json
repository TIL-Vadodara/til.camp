{"dependencies":[{"name":"/Volumes/Work/forks/til.camp/package.json","includedInParent":true,"mtime":1526468255000},{"name":"/Volumes/Work/forks/til.camp/.browserslistrc","includedInParent":true,"mtime":1524300285000},{"name":"/Volumes/Work/forks/til.camp/node_modules/@firebase/storage/package.json","includedInParent":true,"mtime":1519337717000},{"name":"@firebase/app","loc":{"line":20,"column":21}},{"name":"./array","loc":{"line":21,"column":23}},{"name":"./backoff","loc":{"line":22,"column":25}},{"name":"./error","loc":{"line":23,"column":31}},{"name":"./object","loc":{"line":24,"column":24}},{"name":"./promise_external","loc":{"line":25,"column":29}},{"name":"./type","loc":{"line":26,"column":22}},{"name":"./url","loc":{"line":27,"column":26}},{"name":"./xhrio","loc":{"line":28,"column":30}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.RequestEndStatus=void 0,exports.addAuthHeader_=m,exports.addVersionHeader_=R,exports.makeRequest=x;var e=require(\"@firebase/app\"),r=C(e),t=require(\"./array\"),s=v(t),o=require(\"./backoff\"),n=v(o),a=require(\"./error\"),i=v(a),l=require(\"./object\"),u=v(l),c=require(\"./promise_external\"),d=v(c),_=require(\"./type\"),h=v(_),p=require(\"./url\"),f=v(p),b=require(\"./xhrio\"),g=v(b);function v(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function C(e){return e&&e.__esModule?e:{default:e}}var k=function(){function e(e,r,t,s,o,n,a,i,l,u,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=r,this.headers_=t,this.body_=s,this.successCodes_=o.slice(),this.additionalRetryCodes_=n.slice(),this.callback_=a,this.errorCallback_=i,this.progressCallback_=u,this.timeout_=l,this.pool_=c;var _=this;this.promise_=d.make(function(e,r){_.resolve_=e,_.reject_=r,_.start_()})}return e.prototype.start_=function(){var e=this;function r(r,t){var s,o=e.resolve_,n=e.reject_,a=t.xhr;if(t.wasSuccessCode)try{var l=e.callback_(a,a.getResponseText());h.isJustDef(l)?o(l):o()}catch(e){n(e)}else null!==a?((s=i.unknown()).setServerResponseProp(a.getResponseText()),e.errorCallback_?n(e.errorCallback_(a,s)):n(s)):t.canceled?n(s=e.appDelete_?i.appDeleted():i.canceled()):n(s=i.retryLimitExceeded())}this.canceled_?r(0,new y(!1,null,!0)):this.backoffId_=n.start(function(r,t){if(t)r(!1,new y(!1,null,!0));else{var o=e.pool_.createXhrIo();e.pendingXhr_=o,null!==e.progressCallback_&&o.addUploadProgressListener(n),o.send(e.url_,e.method_,e.body_,e.headers_).then(function(t){null!==e.progressCallback_&&t.removeUploadProgressListener(n),e.pendingXhr_=null;var o=(t=t).getErrorCode()===g.ErrorCode.NO_ERROR,a=t.getStatus();if(o&&!e.isRetryStatusCode_(a)){var i=s.contains(e.successCodes_,a);r(!0,new y(i,t))}else{var l=t.getErrorCode()===g.ErrorCode.ABORT;r(!1,new y(!1,null,l))}})}function n(r){var t=r.loaded,s=r.lengthComputable?r.total:-1;null!==e.progressCallback_&&e.progressCallback_(t,s)}},r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&n.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var r=e>=500&&e<600,t=s.contains([408,429],e),o=s.contains(this.additionalRetryCodes_,e);return r||t||o},e}(),y=function(){return function(e,r,t){this.wasSuccessCode=e,this.xhr=r,this.canceled=!!t}}();function m(e,r){null!==r&&r.length>0&&(e.Authorization=\"Firebase \"+r)}function R(e){var t=void 0!==r.default?r.default.SDK_VERSION:\"AppManager\";e[\"X-Firebase-Storage-Version\"]=\"webjs/\"+t}function x(e,r,t){var s=f.makeQueryString(e.urlParams),o=e.url+s,n=u.clone(e.headers);return m(n,r),R(n),new k(o,e.method,n,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,t)}exports.RequestEndStatus=y;"},"hash":"51adb24f24c977338658946dd31e7d2a","cacheData":{"env":{}}}